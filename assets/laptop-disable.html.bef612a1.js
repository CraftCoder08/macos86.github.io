import{r as n,o as e,c as t,a,w as s,F as l,b as o}from"./app.9c75e1c0.js";import{_ as u}from"./nvidia.3b2b1daa.js";const i={},c=a("h1",{id:"disabling-laptop-dgpus-ssdt-dgpu-off-nohybgfx",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#disabling-laptop-dgpus-ssdt-dgpu-off-nohybgfx","aria-hidden":"true"},"#"),o(" Disabling laptop dGPUs (SSDT-dGPU-Off/NoHybGfx)")],-1),p={class:"table-of-contents"},d=o("# Optimus Method"),r=o("# Bumblebee Method"),h=o("# Now you're ready to compile the SSDT!"),m=a("p",null,[o("So with laptops, we can hide the dGPU from macOS with the little boot-arg called "),a("code",null,"-wegnoegpu"),o(" from WhateverGreen. But one small problem, the dGPU is still pulling power draining your battery slowly. We'll be going over 2 methods for disabling the dGPU in a laptop:")],-1),b=o("Optimus Method"),f=o("Bumblebee Method"),P=a("p",null,"Note that this is not needed for install, but recommended for post-install",-1),g=a("h2",{id:"optimus-method",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#optimus-method","aria-hidden":"true"},"#"),o(" Optimus Method")],-1),k=a("p",null,[o("How this works is that we call the "),a("code",null,".off"),o(" method found on Optimus GPUs, this is the expected way to power off a GPU but some may find their dGPU will power back up later on. Mainly seen in Lenovo's, the Optimus method should work for most users:")],-1),G=o("To start, grab "),S={href:"https://github.com/macos86/Getting-Started-With-ACPI/blob/master/extra-files/decompiled/SSDT-dGPU-Off.dsl",target:"_blank",rel:"noopener noreferrer"},w=o("SSDT-dGPU-Off.dsl"),x=a("p",null,"Next we need to get on Windows, and head to the following:",-1),y=a("div",{class:"language-text ext-text line-numbers-mode"},[a("pre",{class:"language-text"},[a("code",null,"Device Manager -> Display Adapters -> dGPU -> Properties -> Details > BIOS device name\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br")])],-1),_=a("ul",null,[a("li",null,'Note some GPUs may be hiding under "BIOS device name"')],-1),v=a("p",null,"This should provided you with an ACPI path for your dGPU, most commonly:",-1),C=a("ul",null,[a("li",null,[o("Nvidia dGPU: "),a("code",null,"\\_SB.PCI0.PEG0.PEGP")]),a("li",null,[o("AMD dGPU: "),a("code",null,"\\_SB.PCI0.PEGP.DGFX")])],-1),E=a("p",null,[a("img",{src:u,alt:"Credit to 1Revenger1 for the image"})],-1),I=a("p",null,"Now with that, we'll need to change the ACPI path in the SSDT. Main sections:",-1),D=a("div",{class:"language-c ext-c line-numbers-mode"},[a("pre",{class:"language-c"},[a("code",null,[a("span",{class:"token function"},"External"),a("span",{class:"token punctuation"},"("),o("_SB"),a("span",{class:"token punctuation"},"."),o("PCI0"),a("span",{class:"token punctuation"},"."),o("PEG0"),a("span",{class:"token punctuation"},"."),o("PEGP"),a("span",{class:"token punctuation"},"."),o("_OFF"),a("span",{class:"token punctuation"},","),o(" MethodObj"),a("span",{class:"token punctuation"},")"),o("\n")])]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br")])],-1),O=a("div",{class:"language-c ext-c line-numbers-mode"},[a("pre",{class:"language-c"},[a("code",null,[a("span",{class:"token function"},"If"),o(),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"CondRefOf"),a("span",{class:"token punctuation"},"("),o("\\_SB"),a("span",{class:"token punctuation"},"."),o("PCI0"),a("span",{class:"token punctuation"},"."),o("PEG0"),a("span",{class:"token punctuation"},"."),o("PEGP"),a("span",{class:"token punctuation"},"."),o("_OFF"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),o(),a("span",{class:"token punctuation"},"{"),o(" \\_SB"),a("span",{class:"token punctuation"},"."),o("PCI0"),a("span",{class:"token punctuation"},"."),o("PEG0"),a("span",{class:"token punctuation"},"."),o("PEGP"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"_OFF"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),o(),a("span",{class:"token punctuation"},"}"),o("\n")])]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br")])],-1),U=a("p",null,"Once adapted to your config, head to the compile section",-1),B=o("For those with sleep issues, you can refer to the original "),M={href:"https://www.tonymacx86.com/threads/guide-disabling-discrete-graphics-in-dual-gpu-laptops.163772/",target:"_blank",rel:"noopener noreferrer"},T=o("Rehabman thread"),A=a("h2",{id:"bumblebee-method",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#bumblebee-method","aria-hidden":"true"},"#"),o(" Bumblebee Method")],-1),N=a("p",null,[o("With some machines, the simple "),a("code",null,".off"),o(" call won't keep the card off properly, that's where the Bumblebee method comes in. This SSDT will actually send the dGPU into D3 state being the lowest power state a device can support. Credit to Maemo for the original adaptation.")],-1),F=o("To start, grab "),R={href:"https://github.com/macos86/Getting-Started-With-ACPI/blob/master/extra-files/decompiled/SSDT-NoHybGfx.dsl",target:"_blank",rel:"noopener noreferrer"},W=o("SSDT-NoHybGfx.dsl"),j=a("p",null,"Next we need to get on Windows, and head to the following:",-1),L=a("div",{class:"language-text ext-text line-numbers-mode"},[a("pre",{class:"language-text"},[a("code",null,"Device Manager -> Display Adapters -> dGPU -> Properties -> Details > BIOS device name\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br")])],-1),H=a("p",null,"This should provided you with an ACPI path for your dGPU, most commonly:",-1),X=a("ul",null,[a("li",null,[o("Nvidia dGPU: "),a("code",null,"\\_SB.PCI0.PEG0.PEGP")]),a("li",null,[o("AMD dGPU: "),a("code",null,"\\_SB.PCI0.PEGP.DGFX")])],-1),q=a("p",null,"Now with that, we'll need to change the ACPI path in the SSDT. Main sections:",-1),z=a("div",{class:"language-c ext-c line-numbers-mode"},[a("pre",{class:"language-c"},[a("code",null,[a("span",{class:"token function"},"External"),o(),a("span",{class:"token punctuation"},"("),o("_SB_"),a("span",{class:"token punctuation"},"."),o("PCI0"),a("span",{class:"token punctuation"},"."),o("PEG0"),a("span",{class:"token punctuation"},"."),o("PEGP"),a("span",{class:"token punctuation"},"."),o("_DSM"),a("span",{class:"token punctuation"},","),o(" MethodObj"),a("span",{class:"token punctuation"},")"),o("    "),a("span",{class:"token comment"},"// dGPU ACPI Path"),o("\n"),a("span",{class:"token function"},"External"),o(),a("span",{class:"token punctuation"},"("),o("_SB_"),a("span",{class:"token punctuation"},"."),o("PCI0"),a("span",{class:"token punctuation"},"."),o("PEG0"),a("span",{class:"token punctuation"},"."),o("PEGP"),a("span",{class:"token punctuation"},"."),o("_PS3"),a("span",{class:"token punctuation"},","),o(" MethodObj"),a("span",{class:"token punctuation"},")"),o("    "),a("span",{class:"token comment"},"// dGPU ACPI Path"),o("\n")])]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br")])],-1),J=a("div",{class:"language-c ext-c line-numbers-mode"},[a("pre",{class:"language-c"},[a("code",null,[a("span",{class:"token function"},"If"),o(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"CondRefOf"),o(),a("span",{class:"token punctuation"},"("),o("\\_SB"),a("span",{class:"token punctuation"},"."),o("PCI0"),a("span",{class:"token punctuation"},"."),o("PEG0"),a("span",{class:"token punctuation"},"."),o("PEGP"),a("span",{class:"token punctuation"},"."),o("_DSM"),a("span",{class:"token punctuation"},")"),o(),a("span",{class:"token operator"},"&&"),o(),a("span",{class:"token function"},"CondRefOf"),o(),a("span",{class:"token punctuation"},"("),o("\\_SB"),a("span",{class:"token punctuation"},"."),o("PCI0"),a("span",{class:"token punctuation"},"."),o("PEG0"),a("span",{class:"token punctuation"},"."),o("PEGP"),a("span",{class:"token punctuation"},"."),o("_PS3"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),o("\n")])]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br")])],-1),K=a("div",{class:"language-text ext-text line-numbers-mode"},[a("pre",{class:"language-text"},[a("code",null,' // Card Off Request\n \\_SB.PCI0.PEG0.PEGP._DSM (ToUUID ("a486d8f8-0bda-471b-a72b-6042a6b5bee0"), 0x0100, 0x1A, Buffer (0x04)\n')]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br")])],-1),Q=a("div",{class:"language-text ext-text line-numbers-mode"},[a("pre",{class:"language-text"},[a("code",null," // Card Off\n\\_SB.PCI0.PEG0.PEGP._PS3 ()\n")]),a("div",{class:"line-numbers"},[a("span",{class:"line-number"},"1"),a("br"),a("span",{class:"line-number"},"2"),a("br")])],-1),V=a("p",null,"Once adapted to your config, head to the compile section",-1),Y={id:"now-you-re-ready-to-compile-the-ssdt",tabindex:"-1"},Z=a("a",{class:"header-anchor",href:"#now-you-re-ready-to-compile-the-ssdt","aria-hidden":"true"},"#",-1),$=o(),nn=o("Now you're ready to compile the SSDT!");i.render=function(o,u){const i=n("RouterLink"),en=n("OutboundLink");return e(),t(l,null,[c,a("nav",p,[a("ul",null,[a("li",null,[a(i,{to:"#optimus-method"},{default:s((()=>[d])),_:1})]),a("li",null,[a(i,{to:"#bumblebee-method"},{default:s((()=>[r])),_:1})]),a("li",null,[a(i,{to:"#now-you-re-ready-to-compile-the-ssdt"},{default:s((()=>[h])),_:1})])])]),m,a("ul",null,[a("li",null,[a(i,{to:"/Laptops/laptop-disable.html#optimus-method"},{default:s((()=>[b])),_:1})]),a("li",null,[a(i,{to:"/Laptops/laptop-disable.html#bumblebee-method"},{default:s((()=>[f])),_:1})])]),P,g,k,a("p",null,[G,a("a",S,[w,a(en)])]),x,y,_,v,C,E,I,D,O,U,a("ul",null,[a("li",null,[B,a("a",M,[T,a(en)])])]),A,N,a("p",null,[F,a("a",R,[W,a(en)])]),j,L,H,X,q,z,J,K,Q,V,a("h2",Y,[Z,$,a(i,{to:"/compile.html"},{default:s((()=>[nn])),_:1})])],64)};export default i;
