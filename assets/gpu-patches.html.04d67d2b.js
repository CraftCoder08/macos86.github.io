import{r as l,o as e,c as n,a as t,F as a,b as s}from"./app.9c75e1c0.js";const r={},i=t("h1",{id:"gpu-patching",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#gpu-patching","aria-hidden":"true"},"#"),s(" GPU Patching")],-1),u=t("p",null,"This little section is for those who need more than what is provided by simple framebuffer patching and WhateverGreen's auto-patches:",-1),o={href:"https://dortania.github.io/Getting-Started-With-ACPI/Universal/spoof.html",target:"_blank",rel:"noopener noreferrer"},p=s("Applying a fakeID for unsupported GPUs"),d=t("li",null,[t("a",{href:"#iGPU-BusID-Patching"},"iGPU BusID patching for 300 series motherboards")],-1),c=t("h2",{id:"converting-a-clover-fakeid-to-opencore",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#converting-a-clover-fakeid-to-opencore","aria-hidden":"true"},"#"),s(" Converting a clover fakeID to OpenCore")],-1),h=s("Guide moved here: "),b={href:"https://dortania.github.io/Getting-Started-With-ACPI/Universal/spoof.html",target:"_blank",rel:"noopener noreferrer"},g=s("Renaming GPUs"),f=t("h2",{id:"igpu-busid-patching",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#igpu-busid-patching","aria-hidden":"true"},"#"),s(" iGPU BusID Patching")],-1),m=t("p",null,'This section is for users running "true" 300 series motherboards( B360, B365, H310, H370, Z390) who are having issues setting up their iGPU as a display out.',-1),x=s("So to get started I'll assume you've already done basic framebuffer patches in your config from the "),C={href:"https://dortania.github.io/OpenCore-Install-Guide/config.plist/coffee-lake.html",target:"_blank",rel:"noopener noreferrer"},y=s("Coffee Lake portion of the guide"),P=s(", it should look something like this:"),D=t("p",null,[t("img",{src:"/assets/prereq.a5937ee7.png",alt:""})],-1),v=t("ul",null,[t("li",null,[t("strong",null,"Note"),s(": With macOS 10.15.5, there seems to be a lot of issues with black screen using "),t("code",null,"07009B3E"),s(", if you get similar issues try swapping to "),t("code",null,"00009B3E")])],-1),I=s("Now that we're prepped, we can start looking into busID patching. Checking the dumps at the official "),k={href:"https://github.com/acidanthera/WhateverGreen/blob/master/Manual/FAQ.IntelHD.en.md",target:"_blank",rel:"noopener noreferrer"},w=s("WhateverGreen repository"),B=s(" shows us this for the "),M=t("code",null,"3E9B0007",-1),G=s(" ID(Desktop UHD 630):"),A=t("div",{class:"language-text ext-text line-numbers-mode"},[t("pre",{class:"language-text"},[t("code",null,"ID: 3E9B0007, STOLEN: 57 MB, FBMEM: 0 bytes, VRAM: 1536 MB, Flags: 0x00801302\nTOTAL STOLEN: 58 MB, TOTAL CURSOR: 1 MB (1572864 bytes), MAX STOLEN: 172 MB, MAX OVERALL: 173 MB (181940224 bytes)\nGPU Name: Intel UHD Graphics 630\nModel Name(s):\nCamelia: Disabled\nMobile: 0, PipeCount: 3, PortCount: 3, FBMemoryCount: 3\n[1] busId: 0x05, pipe: 9, type: 0x00000400, flags: 0x000003C7 - DP\n[2] busId: 0x04, pipe: 10, type: 0x00000400, flags: 0x000003C7 - DP\n[3] busId: 0x06, pipe: 8, type: 0x00000400, flags: 0x000003C7 - DP\n01050900 00040000 C7030000\n02040A00 00040000 C7030000\n03060800 00040000 C7030000\n")]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br")])],-1),U=t("p",null,"Looking at all this can be quite overwhelming, but we'll break it down to be a bit simpler. For use we care about this:",-1),T=t("div",{class:"language-text ext-text line-numbers-mode"},[t("pre",{class:"language-text"},[t("code",null,"[1] busId: 0x05, pipe: 9, type: 0x00000400, flags: 0x000003C7 - DP\n[2] busId: 0x04, pipe: 10, type: 0x00000400, flags: 0x000003C7 - DP\n[3] busId: 0x06, pipe: 8, type: 0x00000400, flags: 0x000003C7 - DP\n01050900 00040000 C7030000\n02040A00 00040000 C7030000\n03060800 00040000 C7030000\n")]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br")])],-1),S=t("p",null,"These are your iGPUs ports by default, lets go through port 1 and see what each section is used for:",-1),L=t("p",null,"The first port:",-1),O=t("div",{class:"language-text ext-text line-numbers-mode"},[t("pre",{class:"language-text"},[t("code",null,"01050900 00040000 C7030000\n")]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br")])],-1),E=t("p",null,"Port: 01",-1),N=t("ul",null,[t("li",null,[t("strong",null,"01"),s("050900 00040000 C7030000")])],-1),H=t("p",null,"busId: 0x05",-1),W=t("ul",null,[t("li",null,[s("01"),t("strong",null,"05"),s("0900 00040000 C7030000")])],-1),F=t("p",null,"Pipe Number 9 (little endian):",-1),R=t("ul",null,[t("li",null,[s("0105"),t("strong",null,"0900"),s(" 00040000 C7030000")])],-1),_=t("p",null,"Connector type: DisplayPort",-1),V=t("ul",null,[t("li",null,[s("01050900 "),t("strong",null,"00040000"),s(" C7030000")])],-1),q=t("p",null,"Flags - We leave it as default:",-1),X=t("ul",null,[t("li",null,[s("01050900 00040000 "),t("strong",null,"C7030000")])],-1),j=t("p",null,"Things to note:",-1),Q=t("ul",null,[t("li",null,"You cannot use the same busId twice, having 2 in use will create conflicts"),t("li",null,"Pipe number and flags don't need to changed")],-1),Y=t("p",null,"List of connector types:",-1),Z=t("ul",null,[t("li",null,[t("code",null,"00 04 00 00"),s(" - DisplayPort")]),t("li",null,[t("code",null,"00 08 00 00"),s(" - HDMI")]),t("li",null,[t("code",null,"04 00 00 00"),s(" - Digital DVI")]),t("li",null,[t("code",null,"02 00 00 00"),s(" - LVDS (for laptops)")]),t("li",null,[t("code",null,"01 00 00 00"),s(" - Dummy port")])],-1),z=t("h3",{id:"mapping-video-ports",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#mapping-video-ports","aria-hidden":"true"},"#"),s(" Mapping video ports")],-1),J=t("ol",null,[t("li",null,[t("p",null,"Plug display into HDMI port")]),t("li",null,[t("p",null,"Set Port 1 to the HDMI connector type:"),t("ul",null,[t("li",null,[s("01xx0900 "),t("strong",null,"00080000"),s(" C7030000")])])]),t("li",null,[t("p",null,"Disable ports 2 and 3 with busid=00:"),t("ul",null,[t("li",null,[s("02"),t("strong",null,"00"),s("0A00 00040000 C7030000")]),t("li",null,[s("03"),t("strong",null,"00"),s("0800 00040000 C7030000")])])]),t("li",null,[t("p",null,"Walk through busids for Port 1 if the previous didn't work(yup you gotta do a shit ton of reboots). The maximum busid on most platforms is 0x06"),t("ul",null,[t("li",null,[s("01"),t("strong",null,"01"),s("0900 00080000 C7030000")]),t("li",null,[s("01"),t("strong",null,"02"),s("0900 00080000 C7030000")]),t("li",null,[s("01"),t("strong",null,"03"),s("0900 00080000 C7030000")]),t("li",null,"etc")])])],-1),K=t("p",null,"If you still get no output, set port 1's busid to 00 and start going through busids for port 2 and so on",-1),$=t("ul",null,[t("li",null,"01000900 00040000 C7030000"),t("li",null,"02xx0A00 00080000 C7030000"),t("li",null,"03000800 00040000 C7030000")],-1),ll=t("h3",{id:"adding-to-your-config-plist",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#adding-to-your-config-plist","aria-hidden":"true"},"#"),s(" Adding to your config.plist")],-1),el=t("p",null,"So adding these patches are simple though a bunch of entries are required:",-1),nl=t("ul",null,[t("li",null,[s("framebuffer-con0-enable = "),t("code",null,"01000000")]),t("li",null,[s("framebuffer-con1-enable = "),t("code",null,"01000000")]),t("li",null,[s("framebuffer-con2-enable = "),t("code",null,"01000000")]),t("li",null,"framebuffer-con0-alldata = port 1"),t("li",null,"framebuffer-con1-alldata = port 2"),t("li",null,"framebuffer-con2-alldata = port 3")],-1),tl=t("p",null,"So when adding the patches, port 1 will actually become con0 as the ports start at 0. These are also all data types when entering your values.",-1),al=t("p",null,"A finished config should look something like this:",-1),sl=t("p",null,[t("img",{src:"/assets/path-done.5c713b22.png",alt:""})],-1),rl=s("Source for iGPU BusID patching: "),il={href:"https://github.com/corpnewt",target:"_blank",rel:"noopener noreferrer"},ul=s("CorpNewt's Brain");r.render=function(s,r){const ol=l("OutboundLink");return e(),n(a,null,[i,u,t("ul",null,[t("li",null,[t("a",o,[p,t(ol)])]),d]),c,t("p",null,[h,t("a",b,[g,t(ol)])]),f,m,t("p",null,[x,t("a",C,[y,t(ol)]),P]),D,v,t("p",null,[I,t("a",k,[w,t(ol)]),B,M,G]),A,U,T,S,L,O,E,N,H,W,F,R,_,V,q,X,j,Q,Y,Z,z,J,K,$,ll,el,nl,tl,al,sl,t("p",null,[rl,t("a",il,[ul,t(ol)])])],64)};export default r;
