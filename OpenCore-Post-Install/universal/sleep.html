<!DOCTYPE html>
<html lang="it-IT">
  <head>
    <meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><title>Fixing Sleep | Guida Installazione Opencore</title><meta name="description" content=""><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.20">
    <link rel="modulepreload" href="/assets/app.9c75e1c0.js"><link rel="modulepreload" href="/assets/sleep.html.85b6308c.js"><link rel="modulepreload" href="/assets/sleep.html.144da82f.js">
    <link rel="stylesheet" href="/assets/style.eacd1a11.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><span><a href="/" class=""><img class="logo" src="/homepage.png" alt="Guida Installazione Opencore"><span class="site-name can-hide">Guida Installazione Opencore</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/Getting-Started-With-ACPI/" class="nav-link" aria-label="Iniziamo con ACPI"><!--[--><!--]--> Iniziamo con ACPI <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/config.plist/" class="nav-link" aria-label="Configurazione di OpenCore"><!--[--><!--]--> Configurazione di OpenCore <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/troubleshooting/" class="nav-link" aria-label="Risoluzione dei problemi"><!--[--><!--]--> Risoluzione dei problemi <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/OpenCore-Post-Install/" class="nav-link router-link-active" aria-label="Dopo l&#39;installazione di OpenCore..."><!--[--><!--]--> Dopo l&#39;installazione di OpenCore... <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/OpenCore-Multiboot/" class="nav-link" aria-label="Multibooting con OpenCore"><!--[--><!--]--> Multibooting con OpenCore <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/OpenCanopy-Gallery/" class="nav-link" aria-label="Galleria OpenCanopy"><!--[--><!--]--> Galleria OpenCanopy <!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://dortania.github.io/" rel="noopener noreferrer" target="_blank" aria-label="Dortania (EN)"><!--[--><!--]--> Dortania (EN) <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://dortania.github.io/GPU-Buyers-Guide/" rel="noopener noreferrer" target="_blank" aria-label="GPU Buyers Guide (EN)"><!--[--><!--]--> GPU Buyers Guide (EN) <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://dortania.github.io/Wireless-Buyers-Guide/" rel="noopener noreferrer" target="_blank" aria-label="Wireless Buyers Guide (EN)"><!--[--><!--]--> Wireless Buyers Guide (EN) <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://dortania.github.io/Anti-Hackintosh-Buyers-Guide/" rel="noopener noreferrer" target="_blank" aria-label="Anti Buyers Guide (EN)"><!--[--><!--]--> Anti Buyers Guide (EN) <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/macos86/macos86.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/Getting-Started-With-ACPI/" class="nav-link" aria-label="Iniziamo con ACPI"><!--[--><!--]--> Iniziamo con ACPI <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/config.plist/" class="nav-link" aria-label="Configurazione di OpenCore"><!--[--><!--]--> Configurazione di OpenCore <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/troubleshooting/" class="nav-link" aria-label="Risoluzione dei problemi"><!--[--><!--]--> Risoluzione dei problemi <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/OpenCore-Post-Install/" class="nav-link router-link-active" aria-label="Dopo l&#39;installazione di OpenCore..."><!--[--><!--]--> Dopo l&#39;installazione di OpenCore... <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/OpenCore-Multiboot/" class="nav-link" aria-label="Multibooting con OpenCore"><!--[--><!--]--> Multibooting con OpenCore <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/OpenCanopy-Gallery/" class="nav-link" aria-label="Galleria OpenCanopy"><!--[--><!--]--> Galleria OpenCanopy <!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://dortania.github.io/" rel="noopener noreferrer" target="_blank" aria-label="Dortania (EN)"><!--[--><!--]--> Dortania (EN) <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://dortania.github.io/GPU-Buyers-Guide/" rel="noopener noreferrer" target="_blank" aria-label="GPU Buyers Guide (EN)"><!--[--><!--]--> GPU Buyers Guide (EN) <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://dortania.github.io/Wireless-Buyers-Guide/" rel="noopener noreferrer" target="_blank" aria-label="Wireless Buyers Guide (EN)"><!--[--><!--]--> Wireless Buyers Guide (EN) <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://dortania.github.io/Anti-Hackintosh-Buyers-Guide/" rel="noopener noreferrer" target="_blank" aria-label="Anti Buyers Guide (EN)"><!--[--><!--]--> Anti Buyers Guide (EN) <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/macos86/macos86.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><a href="/OpenCore-Post-Install/" class="nav-link router-link-active sidebar-heading sidebar-item" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----><!--]--><!--[--><p class="sidebar-heading sidebar-item active">Universal</p><ul class=""><li><!--[--><a href="/OpenCore-Post-Install/universal/audio.html" class="nav-link sidebar-item" aria-label="Fixing audio with AppleALC"><!--[--><!--]--> Fixing audio with AppleALC <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/oc2hdd.html" class="nav-link sidebar-item" aria-label="Moving OpenCore from USB to macOS Drive"><!--[--><!--]--> Moving OpenCore from USB to macOS Drive <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/update.html" class="nav-link sidebar-item" aria-label="Updating OpenCore and macOS"><!--[--><!--]--> Updating OpenCore and macOS <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/drm.html" class="nav-link sidebar-item" aria-label="Fixing DRM support and iGPU performance"><!--[--><!--]--> Fixing DRM support and iGPU performance <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/iservices.html" class="nav-link sidebar-item" aria-label="Fixing iMessage and other services with OpenCore"><!--[--><!--]--> Fixing iMessage and other services with OpenCore <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/pm.html" class="nav-link sidebar-item" aria-label="Optimizing Power Management"><!--[--><!--]--> Optimizing Power Management <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="Fixing Sleep"><!--[--><!--]--> Fixing Sleep <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#preparations" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Preparations"><!--[--><!--]--> Preparations <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#in-macos" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="In macOS"><!--[--><!--]--> In macOS <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#in-your-config-plist" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="In your config.plist"><!--[--><!--]--> In your config.plist <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#in-your-bios" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="In your BIOS"><!--[--><!--]--> In your BIOS <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#main-culprits" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Main culprits"><!--[--><!--]--> Main culprits <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#fixing-usb" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Fixing USB"><!--[--><!--]--> Fixing USB <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#fixing-gpus" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Fixing GPUs"><!--[--><!--]--> Fixing GPUs <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#fixing-thunderbolt" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Fixing Thunderbolt"><!--[--><!--]--> Fixing Thunderbolt <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#fixing-nics" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Fixing NICs"><!--[--><!--]--> Fixing NICs <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#fixing-nvme" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Fixing NVMe"><!--[--><!--]--> Fixing NVMe <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#fixing-cpu-power-management" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Fixing CPU Power Management"><!--[--><!--]--> Fixing CPU Power Management <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#other-culprits" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Other Culprits"><!--[--><!--]--> Other Culprits <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#displays" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Displays"><!--[--><!--]--> Displays <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#nvram" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="NVRAM"><!--[--><!--]--> NVRAM <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#rtc" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="RTC"><!--[--><!--]--> RTC <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#irq-conflicts" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="IRQ Conflicts"><!--[--><!--]--> IRQ Conflicts <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#audio" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Audio"><!--[--><!--]--> Audio <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#smbus" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="SMBus"><!--[--><!--]--> SMBus <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/sleep.html#tsc" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="TSC"><!--[--><!--]--> TSC <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">USB Fixes</p><ul class=""><li><!--[--><a href="/OpenCore-Post-Install/usb/" class="nav-link sidebar-item" aria-label="Why should you USB map"><!--[--><!--]--> Why should you USB map <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/usb/system-preparation.html" class="nav-link sidebar-item" aria-label="System Preparation"><!--[--><!--]--> System Preparation <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><p class="sidebar-item">USB Mapping</p><ul class="sidebar-sub-items"><li><!--[--><a href="/OpenCore-Post-Install/usb/intel-mapping/intel.html" class="nav-link sidebar-item" aria-label="USB Mapping"><!--[--><!--]--> USB Mapping <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/usb/manual/manual.html" class="nav-link sidebar-item" aria-label="USB Mapping"><!--[--><!--]--> USB Mapping <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/usb/misc/" class="nav-link sidebar-item" aria-label="Miscellaneous Fixes"><!--[--><!--]--> Miscellaneous Fixes <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a href="/OpenCore-Post-Install/usb/misc/power.html" class="nav-link sidebar-item" aria-label="Fixing USB Power"><!--[--><!--]--> Fixing USB Power <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/usb/misc/shutdown.html" class="nav-link sidebar-item" aria-label="Fixing Shutdown/Restart"><!--[--><!--]--> Fixing Shutdown/Restart <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/usb/misc/instant-wake.html" class="nav-link sidebar-item" aria-label="GPRW/UPRW/LANC Instant Wake Patch"><!--[--><!--]--> GPRW/UPRW/LANC Instant Wake Patch <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/usb/misc/keyboard.html" class="nav-link sidebar-item" aria-label="Keyboard Wake Issues"><!--[--><!--]--> Keyboard Wake Issues <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Security</p><ul class=""><li><!--[--><a href="/OpenCore-Post-Install/universal/security.md" class="nav-link sidebar-item" aria-label="Security and FileVault"><!--[--><!--]--> Security and FileVault <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a href="/OpenCore-Post-Install/universal/security/filevault.html" class="nav-link sidebar-item" aria-label="FileVault"><!--[--><!--]--> FileVault <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/security/vault.html" class="nav-link sidebar-item" aria-label="Vault"><!--[--><!--]--> Vault <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/security/scanpolicy.html" class="nav-link sidebar-item" aria-label="ScanPolicy"><!--[--><!--]--> ScanPolicy <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/security/password.html" class="nav-link sidebar-item" aria-label="OpenCore Menu Password"><!--[--><!--]--> OpenCore Menu Password <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/security/applesecureboot.html" class="nav-link sidebar-item" aria-label="Apple Secure Boot"><!--[--><!--]--> Apple Secure Boot <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--><!--[--><a href="/OpenCore-Post-Install/laptop-specific/battery" class="nav-link sidebar-heading sidebar-item" aria-label="Laptop Specifics - Fixing Battery Read-outs"><!--[--><!--]--> Laptop Specifics - Fixing Battery Read-outs <!--[--><!--]--></a><!----><!--]--><!--[--><p class="sidebar-heading sidebar-item">Cosmetics</p><ul class=""><li><!--[--><a href="/OpenCore-Post-Install/cosmetic/verbose.html" class="nav-link sidebar-item" aria-label="Fixing Resolution and Verbose"><!--[--><!--]--> Fixing Resolution and Verbose <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/cosmetic/gui.html" class="nav-link sidebar-item" aria-label="OpenCore beauty treatment"><!--[--><!--]--> OpenCore beauty treatment <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/memory.html" class="nav-link sidebar-item" aria-label="Fixing MacPro7,1 Memory Errors"><!--[--><!--]--> Fixing MacPro7,1 Memory Errors <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Multiboot</p><ul class=""><li><!--[--><a href="/OpenCore-Multiboot/" class="nav-link sidebar-item" aria-label="Multiboot con OpenCore"><!--[--><!--]--> Multiboot con OpenCore <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/multiboot/bootstrap.html" class="nav-link sidebar-item" aria-label="Using LauncherOption"><!--[--><!--]--> Using LauncherOption <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/multiboot/bootcamp.html" class="nav-link sidebar-item" aria-label="Installing and using BootCamp utilities"><!--[--><!--]--> Installing and using BootCamp utilities <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Miscellaneous</p><ul class=""><li><!--[--><a href="/OpenCore-Post-Install/misc/rtc.html" class="nav-link sidebar-item" aria-label="Fixing RTC write issues"><!--[--><!--]--> Fixing RTC write issues <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/misc/msr-lock.html" class="nav-link sidebar-item" aria-label="Fixing CFG Lock"><!--[--><!--]--> Fixing CFG Lock <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/misc/nvram.html" class="nav-link sidebar-item" aria-label="Emulated NVRAM"><!--[--><!--]--> Emulated NVRAM <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><a href="/OpenCore-Post-Install/gpu-patching/" class="nav-link sidebar-heading sidebar-item" aria-label="In-depth GPU patching"><!--[--><!--]--> In-depth GPU patching <!--[--><!--]--></a><ul class=""><li><!--[--><p class="sidebar-item">Modern Intel iGPU</p><ul class="sidebar-sub-items"><li><!--[--><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/" class="nav-link sidebar-item" aria-label="Intel iGPU Patching"><!--[--><!--]--> Intel iGPU Patching <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/vram.html" class="nav-link sidebar-item" aria-label="Patching VRAM"><!--[--><!--]--> Patching VRAM <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/connector.html" class="nav-link sidebar-item" aria-label="Patching Connector Types"><!--[--><!--]--> Patching Connector Types <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/busid.html" class="nav-link sidebar-item" aria-label="Patching Bus IDs"><!--[--><!--]--> Patching Bus IDs <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/gpu-patching/legacy-intel/" class="nav-link sidebar-item" aria-label="Legacy Intel iGPU"><!--[--><!--]--> Legacy Intel iGPU <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/gpu-patching/nvidia-patching/" class="nav-link sidebar-item"><!--[--><!--]-->  <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="fixing-sleep" tabindex="-1"><a class="header-anchor" href="#fixing-sleep" aria-hidden="true">#</a> Fixing Sleep</h1><p>So to understand how to fix sleep issues in macOS, we need to first look at what contributes to sleep issues most of the time:</p><ul><li>Incorrectly managed devices(most commonly PCIe based devices)</li></ul><p>The reason for this is when devices get an S3 call(or S0 for wake), the driver needs to power down the devices and put into a low state mode(vice versa when waking). Problems arise when such devices don&#39;t cooperate with the drivers and the main offenders of these issues are:</p><ul><li>USB Controllers and Devices</li><li>GPUs</li><li>Thunderbolt Controllers and Devices</li><li>NICs(Both Ethernet and Wifi)</li><li>NVMe Drives</li></ul><p>And there are others that can cause sleep issues that aren&#39;t directly(or obviously) related to PCI/e:</p><ul><li>CPU Power Management</li><li>Displays</li><li>NVRAM</li><li>RTC/System Clocks</li><li>IRQ Conflicts</li><li>Audio</li><li>SMBus</li><li>TSC</li></ul><p>And something many people forget are over and under-clocks:</p><ul><li>CPUs <ul><li>AVX often breaks iGPUs and hurt overall stability</li></ul></li><li>Bad RAM(Both overclocks and mismatched RAM) <ul><li>Even bad/mismatched timings can cause serious issues</li></ul></li><li>Factory GPU Overclocks <ul><li>OEMs commonly push a card a bit too far with their custom VBIOS</li><li>Generally these cards will have a physical switch, allowing you to choose a low power VBIOS</li></ul></li></ul><h2 id="preparations" tabindex="-1"><a class="header-anchor" href="#preparations" aria-hidden="true">#</a> Preparations</h2><h3 id="in-macos" tabindex="-1"><a class="header-anchor" href="#in-macos" aria-hidden="true">#</a> In macOS</h3><p>Before we get in too deep, we&#39;ll want to first ready our system:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo pmset autopoweroff 0
sudo pmset powernap 0
sudo pmset standby 0
sudo pmset proximitywake 0
sudo pmset tcpkeepalive 0
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>This will do 5 things for us:</p><ol><li>Disables autopoweroff: This is a form of hibernation</li><li>Disables powernap: Used to periodically wake the machine for network, and updates(but not the display)</li><li>Disables standby: Used as a time period between sleep and going into hibernation</li><li>Disables wake from iPhone/Watch: Specifically when your iPhone or Apple Watch come near, the machine will wake</li><li>Disables TCP Keep Alive mechanism to prevent wake ups every 2 hours</li></ol><h3 id="in-your-config-plist" tabindex="-1"><a class="header-anchor" href="#in-your-config-plist" aria-hidden="true">#</a> In your config.plist</h3><p>While minimal changes are needed, here are the ones we care about:</p><ul><li><code>Misc -&gt; Boot -&gt; HibernateMode -&gt; None</code><ul><li>We&#39;re gonna avoid the black magic that is S4 for this guide</li></ul></li><li><code>NVRAM -&gt; Add -&gt; 7C436110-AB2A-4BBB-A880-FE41995C9F82 -&gt; Argomenti di avvio</code><ul><li><code>keepsyms=1</code> - Makes sure that if a kernel panic does happen during sleep, that we get all the important bits from it</li><li><code>swd_panic=1</code> - Avoids issue where going to sleep results in a reboot, this should instead give us a kernel panic log</li></ul></li></ul><h3 id="in-your-bios" tabindex="-1"><a class="header-anchor" href="#in-your-bios" aria-hidden="true">#</a> In your BIOS</h3><ul><li>Disable: <ul><li>Wake on LAN</li><li>Trusted Platform Module <ul><li>Note that if you&#39;re using BitLocker in Windows, disabling this will result in all your encryption keys being lost. If you&#39;re using BitLocker, either disable or note that it may be a cause for wake issues.</li></ul></li><li>Wake on USB(Certain boards may actually require this on to wake, but most will get random wakeup calls with it)</li></ul></li><li>Enable: <ul><li>Wake on Bluetooth(If using a Bluetooth device for waking like a keyboard, otherwise you can disable)</li></ul></li></ul><h2 id="main-culprits" tabindex="-1"><a class="header-anchor" href="#main-culprits" aria-hidden="true">#</a> Main culprits</h2><ul><li><a href="#fixing-usb">USB</a></li><li><a href="#fixing-gpus">GPUs</a></li><li><a href="#fixing-thunderbolt">Thunderbolt</a></li><li><a href="#fixing-nics">NICs</a></li><li><a href="#fixing-nvme">NVMe</a></li><li><a href="#fixing-cpu-power-management">CPU Power Management</a></li></ul><h3 id="fixing-usb" tabindex="-1"><a class="header-anchor" href="#fixing-usb" aria-hidden="true">#</a> Fixing USB</h3><p>This is the #1 cause of sleep issues on hacks, mainly because Apple&#39;s drivers are quite bad at guessing ports and the port limit patches have the ill-effect of creating instability.</p><ul><li><a href="/OpenCore-Post-Install/usb/" class="">USB Mapping</a></li></ul><p>This guide also includes some other fixes than just mapping:</p><ul><li><a href="/OpenCore-Post-Install/usb/misc/power.html" class="">Fixing USB Power</a></li><li><a href="/OpenCore-Post-Install/usb/misc/shutdown.html" class="">Fixing Shutdown/Restart</a></li><li><a href="/OpenCore-Post-Install/usb/misc/instant-wake.html" class="">GPRW/UPRW/LANC Instant Wake Patch</a></li><li><a href="/OpenCore-Post-Install/usb/misc/keyboard.html" class="">Keyboard Wake Issues</a></li></ul><p><strong>USB maps with macOS Catalina(10.15) and newer</strong>: You may find that even with USB mapping, your sleep breaks. one possible solution is renaming the IOClass value from <code>AppleUSBMergeNub</code> to <code>AppleUSBHostMergeProperties</code>. See here for more info: <a href="https://github.com/dortania/bugtracker/issues/15" target="_blank" rel="noopener noreferrer">Changes in Catalina&#39;s USB IOClass<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><ul><li>Note: Some USB devices that do not have proper drivers in macOS can unfortunately result in sleep issues. For example, Corsair water coolers with USB addressable control can prevent the machine from sleeping correctly. For these situations, we recommend users disconnect these troublesome devices when debugging sleep issues.</li></ul><h3 id="fixing-gpus" tabindex="-1"><a class="header-anchor" href="#fixing-gpus" aria-hidden="true">#</a> Fixing GPUs</h3><p>With GPUs, it&#39;s fairly easy to know what might be causing issues. This being unsupported GPUs in macOS. By default, any GPU that doesn&#39;t have drivers already provided in the OS will run off very basic drivers known as VESA drivers. These provide minimal display output but also cause a big issue in that macOS doesn&#39;t actually know how to properly interact with these devices. To fix this, well need to either trick macOS into thinking it&#39;s a generic PCIe device(which it can better handle, ideal for desktops) or completely power off the card(on laptops, desktop dGPUs have issues powering down)</p><ul><li>See here for more info: <ul><li><a href="https://dortania.github.io/Getting-Started-With-ACPI/Desktops/desktop-disable" target="_blank" rel="noopener noreferrer">Disabling desktop dGPUs<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li><li><a href="https://dortania.github.io/Getting-Started-With-ACPI/Laptops/laptop-disable" target="_blank" rel="noopener noreferrer">Disabling laptop dGPUs<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li></ul></li></ul><p>Special notes for iGPU users on 10.15.4 and newer:</p><ul><li>iGPU wake is partially broken due to numerous hacks apple uses in AppleGraphicsPowerManagement.kext with real Macs, to get around this you&#39;ll likely need <code>igfxonln=1</code> to force all displays online. Obviously test first to make sure you have this issue.</li><li>AAPL,ig-platform-id <code>07009B3E</code> may fail for desktop Coffee Lake (UHD 630) users, you can try <code>00009B3E</code> instead. <code>0300923E</code> is also known to work sometimes.</li></ul><p>Other iGPU notes:</p><ul><li>Some systems with iGPUs (e.g. Kaby Lake and Coffee Lake) may cause system instability in lower power states, and can sometimes manifest as NVMe kernel panics. To resolve, you can add <code>forceRenderStandby=0</code> to your Argomenti di avvio to disable RC6 Render Standby. See here for more info: <a href="https://github.com/acidanthera/bugtracker/issues/1193" target="_blank" rel="noopener noreferrer">IGP causes NVMe Kernel Panic CSTS=0xffffffff #1193<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li><li>Certain Ice Lake laptops may also kernel panic on <code>Cannot allow DC9 without disallowing DC6</code> due to issues with transitioning states. A work around for this is using either <code>-noDC9</code> or <code>-nodisplaysleepDC6</code> in your Argomenti di avvio</li></ul><p>Special note for 4k Displays with AMD dGPUs:</p><ul><li>Some displays may fail to wake randomly, mainly caused by AGDC preferences. To fix, apply this to your dGPU in DeviceProperties: <ul><li><code>CFG,CFG_USE_AGDC | Data | 00</code></li><li>You can find the PciRoot of your GPU with <a href="https://github.com/acidanthera/gfxutil/releases" target="_blank" rel="noopener noreferrer">gfxutil<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a><ul><li><code>/path/to/gfxutil -f GFX0</code></li></ul></li></ul></li></ul><p><img src="/assets/agdc.51546529.png" alt=""></p><h3 id="fixing-thunderbolt" tabindex="-1"><a class="header-anchor" href="#fixing-thunderbolt" aria-hidden="true">#</a> Fixing Thunderbolt</h3><p>Thunderbolt is a very tricky topic in the community, mainly due to the complexity of the situation. You really have just 2 paths to go down if you want Thunderbolt and sleep to work simultaneously:</p><ul><li>Disable Thunderbolt 3 in the BIOS</li><li>Attempt to patch Thunderbolt 3: <ul><li><a href="https://osy.gitbook.io/hac-mini-guide/details/thunderbolt-3-fix/" target="_blank" rel="noopener noreferrer">Thunderbolt 3 Fix<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li><li><a href="https://github.com/osy86/ThunderboltReset" target="_blank" rel="noopener noreferrer">ThunderboltReset<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li><li><a href="https://github.com/al3xtjames/ThunderboltPkg/blob/master/Docs/FAQ.md" target="_blank" rel="noopener noreferrer">ThunderboltPkg<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li></ul></li></ul><p>Note: Thunderbolt can be enabled without extra work <em>if</em> you&#39;re ok without sleep, and vice versa.</p><h3 id="fixing-nics" tabindex="-1"><a class="header-anchor" href="#fixing-nics" aria-hidden="true">#</a> Fixing NICs</h3><p>NICs(network Interface Controllers) are fairly easy to fix with sleep, it&#39;s mainly the following:</p><ul><li>Disable <code>WakeOnLAN</code> in the BIOS <ul><li>Most systems will enter a sleep/wake loop with this enabled</li></ul></li><li>Disable <code>Wake for network access</code> in macOS(SystemPreferences -&gt; Power) <ul><li>Seems to break on a lot of hacks</li></ul></li></ul><h3 id="fixing-nvme" tabindex="-1"><a class="header-anchor" href="#fixing-nvme" aria-hidden="true">#</a> Fixing NVMe</h3><p>So macOS can be quite picky when it comes to NVMe drives, and there&#39;s also the issue that Apple&#39;s power management drivers are limited to Apple branded drives only. So the main things to do are:</p><ul><li>Make sure the NVMe is on the latest firmware(especially important for <a href="https://www.tonymacx86.com/threads/do-the-samsung-970-evo-plus-drives-work-new-firmware-available-2b2qexm7.270757/page-14#post-1960453" target="_blank" rel="noopener noreferrer">970 Evo Plus drives<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>)</li><li>Use <a href="https://github.com/acidanthera/NVMeFix/releases" target="_blank" rel="noopener noreferrer">NVMeFix.kext<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> to allow for proper NVMe power management</li></ul><p>And avoid problematic drives, the main culprits:</p><ul><li>Samsung&#39;s PM981 and PM991 SSDs</li><li>Micron&#39;s 2200S</li></ul><p>If you however do have these drives in your system, it&#39;s best to disable them via an SSDT: <a href="https://dortania.github.io/Getting-Started-With-ACPI/Desktops/desktop-disable.html" target="_blank" rel="noopener noreferrer">Disabling desktop dGPUs<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>. This guide is primarily for dGPU but works the exact same way with NVMe drives(as they&#39;re both just PCIe devices)</p><h3 id="fixing-cpu-power-management" tabindex="-1"><a class="header-anchor" href="#fixing-cpu-power-management" aria-hidden="true">#</a> Fixing CPU Power Management</h3><p><strong>For Intel</strong>:</p><p>To verify you have working CPU Power Management, see the <a href="/OpenCore-Post-Install/universal/pm.html" class="">Fixing Power Management</a> page. And if not, then patch accordingly.</p><p>Also note that incorrect frequency vectors can result in wake issues, so either verify you&#39;re using the correct SMBIOS or adjust the frequency vectors of your current SMBIOS with CPUFriend. Tools like <a href="https://github.com/stevezhengshiqi/one-key-cpufriend" target="_blank" rel="noopener noreferrer">one-key-cpufriend<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> are known for creating bad frequency vectors so be careful with tools not used by Dortania.</p><p>A common kernel panic from wake would be:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Sleep Wake failure in EFI
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><strong>For AMD</strong>:</p><p>Fret not, for their is still hope for you as well! <a href="https://github.com/trulyspinach/SMCAMDProcessor" target="_blank" rel="noopener noreferrer">AMDRyzenCPUPowerManagement.kext<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> can add power management to Ryzen based CPUs. Installation and usage is explained on the repo&#39;s README.md</p><h2 id="other-culprits" tabindex="-1"><a class="header-anchor" href="#other-culprits" aria-hidden="true">#</a> Other Culprits</h2><ul><li><a href="#displays">Displays</a></li><li><a href="#nvram">NVRAM</a></li><li><a href="#rtc">RTC</a></li><li><a href="#irq-conflicts">IRQ Conflicts</a></li><li><a href="#audio">Audio</a></li><li><a href="#smbus">SMBus</a></li><li><a href="#tsc">TSC</a></li></ul><h3 id="displays" tabindex="-1"><a class="header-anchor" href="#displays" aria-hidden="true">#</a> Displays</h3><p>So display issues are mainly for laptop lid detection, specifically:</p><ul><li>Incorrectly made SSDT-PNLF</li><li>OS vs firmware lid wake</li><li>Keyboard spams from lid waking it(On PS2 based keyboards)</li></ul><p>The former is quite easy to fix, see here: <a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer">Backlight PNLF<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><p>For the middle, macOS&#39;s lid wake detection can bit a bit broken and you may need to outright disable it:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pmset lidwake <span class="token number">0</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>And set <code>lidwake 1</code> to re-enable it.</p><p>The latter requires a bit more work. What we&#39;ll be doing is trying to nullify semi random key spams that happen on Skylake and newer based HPs though pop up in other OEMs as well. This will also assume that your keyboard is PS2 based and are running <a href="https://github.com/acidanthera/VoodooPS2/releases" target="_blank" rel="noopener noreferrer">VoodooPS2<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>.</p><p>To fix this, grab <a href="https://github.com/acidanthera/VoodooPS2/blob/master/Docs/ACPI/SSDT-HP-FixLidSleep.dsl" target="_blank" rel="noopener noreferrer">SSDT-HP-FixLidSleep.dsl<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> and adapt the ACPI pathing to your keyboard(<code>_CID</code> value being <code>PNP0303</code>). Once this is done, compile and drop into both EFI/OC/ACPI and under config.plist -&gt; ACPI -&gt; Add.</p><p>For 99% of HP users, this will fix the random key spam. If not, see below threads:</p><ul><li><a href="https://www.tonymacx86.com/threads/guide-patching-dsdt-ssdt-for-laptop-backlight-control.152659/" target="_blank" rel="noopener noreferrer">RehabMan&#39;s brightness key guide<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li></ul><h3 id="nvram" tabindex="-1"><a class="header-anchor" href="#nvram" aria-hidden="true">#</a> NVRAM</h3><p>To verify you have working NVRAM, see the <a href="/OpenCore-Post-Install/misc/nvram.html" class="">Emulated NVRAM</a> page to verify you have working NVRAM. And if not, then patch accordingly.</p><h3 id="rtc" tabindex="-1"><a class="header-anchor" href="#rtc" aria-hidden="true">#</a> RTC</h3><p>This is mainly relevant for Intel 300 series motherboards(Z3xx), specifically that there&#39;s 2 issues:</p><ul><li>Be default the RTC is disabled(instead using AWAC)</li><li>The RTC is usually not compatible with macOS</li></ul><p>To get around the first issue, see here: <a href="https://dortania.github.io/Getting-Started-With-ACPI/Universal/awac.html" target="_blank" rel="noopener noreferrer">Fixing AWAC<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><p>For the second one, it&#39;s quite easy to tell you have RTC issues when you either shutdown or restart. Specifically you&#39;ll be greeted with a &quot;BIOS Restarted in Safemode&quot; error. To fix this, we&#39;ll need to prevent macOS from writing to the RTC regions causing these issues. There are a couple fixes:</p><ul><li>DisableRtcChecksum: Prevent writing to primary checksum (0x58-0x59), works with most boards</li><li><code>UEFI -&gt; ProtoclOverride -&gt; AppleRtcRam</code> + <code>NVRAM -&gt; Add -&gt; rtc-blacklist</code><ul><li>Blacklists certain regions at the firmware level, see <a href="https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/Configuration.pdf" target="_blank" rel="noopener noreferrer">Configuration.pdf<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> for more info on how to set this up</li></ul></li><li><a href="https://github.com/acidanthera/RTCMemoryFixup" target="_blank" rel="noopener noreferrer">RTCMemoryFixup<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> + <code>rtcfx_exclude=</code><ul><li>Blacklists certain regions at the kernel level, see README for more info on how to setup</li></ul></li></ul><p>With some legacy boards, you may actually need to patch your RTC: <a href="https://www.insanelymac.com/forum/topic/329624-need-cmos-reset-after-sleep-only-after-login/" target="_blank" rel="noopener noreferrer">Z68 RTC<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><h3 id="irq-conflicts" tabindex="-1"><a class="header-anchor" href="#irq-conflicts" aria-hidden="true">#</a> IRQ Conflicts</h3><p>IRQ issues usually occur during bootups but some may notice that IRQ calls can break with sleep, this fix is fairly easy:</p><ul><li><a href="https://github.com/corpnewt/SSDTTime" target="_blank" rel="noopener noreferrer">SSDTTime<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a><ul><li>First dump your DSDT in Linux/Windows</li><li>then select <code>FixHPET</code> option</li></ul></li></ul><p>This will provide you with both SSDT-HPET.aml and <code>oc_patches.plist</code>, You will want to add the SSDT to EFI/OC/ACPI and add the ACPI patches into your config.plist from the oc_patches.plist</p><h3 id="audio" tabindex="-1"><a class="header-anchor" href="#audio" aria-hidden="true">#</a> Audio</h3><p>Unmanaged or incorrectly managed audio devices can also cause issues, either disable unused audio devices in your BIOS or verify they&#39;re working correctly here:</p><ul><li><a href="/OpenCore-Post-Install/universal/audio.html" class="">Fixing Audio</a></li></ul><h3 id="smbus" tabindex="-1"><a class="header-anchor" href="#smbus" aria-hidden="true">#</a> SMBus</h3><p>Main reason you&#39;d care about SMBus is AppleSMBus can help properly manage both SMBus and PCI devices like with power states. Problem is the kext usually won&#39;t load by itself, so you&#39;ll need to actually create the SSDT-SMBS-MCHC.</p><p>See here on more info on how to make it: <a href="https://dortania.github.io/Getting-Started-With-ACPI/Universal/smbus.html" target="_blank" rel="noopener noreferrer">Fixing SMBus support<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><h3 id="tsc" tabindex="-1"><a class="header-anchor" href="#tsc" aria-hidden="true">#</a> TSC</h3><p>The TSC(Time Stamp Counter) is responsible for making sure you&#39;re hardware is running at the correct speed, problem is some firmware(mainly HEDT/Server and Asus Laptops) will not write the TSC to all cores causing issues. To get around this, we have 3 options:</p><ul><li><a href="https://github.com/lvs1974/CpuTscSync/releases" target="_blank" rel="noopener noreferrer">CpuTscSync<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a><ul><li>For troublesome laptops</li></ul></li><li><a href="https://bitbucket.org/RehabMan/VoodooTSCSync/downloads/" target="_blank" rel="noopener noreferrer">VoodooTSCSync<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a><ul><li>For most HEDT hardware</li></ul></li><li><a href="https://github.com/interferenc/TSCAdjustReset" target="_blank" rel="noopener noreferrer">TSCAdjustReset<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a><ul><li>For Skylake X/W/SP and Cascade Lake X/W/SP hardware</li></ul></li></ul><p>The former 2 are plug n play, while the latter will need some customizations:</p><ul><li>Open up the kext(ShowPackageContents in finder, <code>Contents -&gt; Info.plist</code>) and change the Info.plist -&gt; <code>IOKitPersonalities -&gt; IOPropertyMatch -&gt; IOCPUNumber</code> to the number of CPU threads you have starting from <code>0</code>(i9 7980xe 18 core would be <code>35</code> as it has 36 threads total)</li><li>Compiled version can be found here: <a href="https://github.com/dortania/OpenCore-Install-Guide/blob/master/extra-files/TSCAdjustReset.kext.zip" target="_blank" rel="noopener noreferrer">TSCAdjustReset.kext<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li></ul><p><img src="/assets/tsc.1fe76f10.png" alt=""></p><p>The most common way to see the TSC issue:</p><table><thead><tr><th style="text-align:center;">Case 1</th><th style="text-align:center;">Case 2</th></tr></thead><tbody><tr><td style="text-align:center;"><img src="/assets/asus-tsc.a33ffff0.png" alt=""></td><td style="text-align:center;"><img src="/assets/asus-tsc-2.04530e1b.png" alt=""></td></tr></tbody></table><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/macos86/macos86.github.io/edit/main/OpenCore-Post-Install/universal/sleep.md" rel="noopener noreferrer" target="_blank" aria-label="Aiutaci a tradurre questa pagina!"><!--[--><!--]--> Aiutaci a tradurre questa pagina! <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev">  <a href="/OpenCore-Post-Install/universal/pm.html" class="nav-link" aria-label="Optimizing Power Management"><!--[--><!--]--> Optimizing Power Management <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main></div><!----><!--]--></div>
    <script type="module" src="/assets/app.9c75e1c0.js" defer></script>
  </body>
</html>
