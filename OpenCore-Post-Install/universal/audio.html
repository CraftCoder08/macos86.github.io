<!DOCTYPE html>
<html lang="it-IT">
  <head>
    <meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><title>Fixing audio with AppleALC | Guida Installazione Opencore</title><meta name="description" content=""><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.20">
    <link rel="modulepreload" href="/assets/app.9c75e1c0.js"><link rel="modulepreload" href="/assets/audio.html.87a15a1a.js"><link rel="modulepreload" href="/assets/audio.html.162de9e3.js">
    <link rel="stylesheet" href="/assets/style.eacd1a11.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><span><a href="/" class=""><img class="logo" src="/homepage.png" alt="Guida Installazione Opencore"><span class="site-name can-hide">Guida Installazione Opencore</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/Getting-Started-With-ACPI/" class="nav-link" aria-label="Iniziamo con ACPI"><!--[--><!--]--> Iniziamo con ACPI <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/config.plist/" class="nav-link" aria-label="Configurazione di OpenCore"><!--[--><!--]--> Configurazione di OpenCore <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/troubleshooting/" class="nav-link" aria-label="Risoluzione dei problemi"><!--[--><!--]--> Risoluzione dei problemi <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/OpenCore-Post-Install/" class="nav-link router-link-active" aria-label="Dopo l&#39;installazione di OpenCore..."><!--[--><!--]--> Dopo l&#39;installazione di OpenCore... <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/OpenCore-Multiboot/" class="nav-link" aria-label="Multibooting con OpenCore"><!--[--><!--]--> Multibooting con OpenCore <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/OpenCanopy-Gallery/" class="nav-link" aria-label="Galleria OpenCanopy"><!--[--><!--]--> Galleria OpenCanopy <!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://dortania.github.io/" rel="noopener noreferrer" target="_blank" aria-label="Dortania (EN)"><!--[--><!--]--> Dortania (EN) <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://dortania.github.io/GPU-Buyers-Guide/" rel="noopener noreferrer" target="_blank" aria-label="GPU Buyers Guide (EN)"><!--[--><!--]--> GPU Buyers Guide (EN) <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://dortania.github.io/Wireless-Buyers-Guide/" rel="noopener noreferrer" target="_blank" aria-label="Wireless Buyers Guide (EN)"><!--[--><!--]--> Wireless Buyers Guide (EN) <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://dortania.github.io/Anti-Hackintosh-Buyers-Guide/" rel="noopener noreferrer" target="_blank" aria-label="Anti Buyers Guide (EN)"><!--[--><!--]--> Anti Buyers Guide (EN) <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/macos86/macos86.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/Getting-Started-With-ACPI/" class="nav-link" aria-label="Iniziamo con ACPI"><!--[--><!--]--> Iniziamo con ACPI <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/config.plist/" class="nav-link" aria-label="Configurazione di OpenCore"><!--[--><!--]--> Configurazione di OpenCore <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/troubleshooting/" class="nav-link" aria-label="Risoluzione dei problemi"><!--[--><!--]--> Risoluzione dei problemi <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/OpenCore-Post-Install/" class="nav-link router-link-active" aria-label="Dopo l&#39;installazione di OpenCore..."><!--[--><!--]--> Dopo l&#39;installazione di OpenCore... <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/OpenCore-Multiboot/" class="nav-link" aria-label="Multibooting con OpenCore"><!--[--><!--]--> Multibooting con OpenCore <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/OpenCanopy-Gallery/" class="nav-link" aria-label="Galleria OpenCanopy"><!--[--><!--]--> Galleria OpenCanopy <!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://dortania.github.io/" rel="noopener noreferrer" target="_blank" aria-label="Dortania (EN)"><!--[--><!--]--> Dortania (EN) <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://dortania.github.io/GPU-Buyers-Guide/" rel="noopener noreferrer" target="_blank" aria-label="GPU Buyers Guide (EN)"><!--[--><!--]--> GPU Buyers Guide (EN) <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://dortania.github.io/Wireless-Buyers-Guide/" rel="noopener noreferrer" target="_blank" aria-label="Wireless Buyers Guide (EN)"><!--[--><!--]--> Wireless Buyers Guide (EN) <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://dortania.github.io/Anti-Hackintosh-Buyers-Guide/" rel="noopener noreferrer" target="_blank" aria-label="Anti Buyers Guide (EN)"><!--[--><!--]--> Anti Buyers Guide (EN) <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/macos86/macos86.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><a href="/OpenCore-Post-Install/" class="nav-link router-link-active sidebar-heading sidebar-item" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----><!--]--><!--[--><p class="sidebar-heading sidebar-item active">Universal</p><ul class=""><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="Fixing audio with AppleALC"><!--[--><!--]--> Fixing audio with AppleALC <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#finding-your-layout-id" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Finding your layout ID"><!--[--><!--]--> Finding your layout ID <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#testing-your-layout" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Testing your layout"><!--[--><!--]--> Testing your layout <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#making-layout-id-more-permanent" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Making Layout ID more permanent"><!--[--><!--]--> Making Layout ID more permanent <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#miscellaneous-issues" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Miscellaneous issues"><!--[--><!--]--> Miscellaneous issues <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#no-mic-on-amd" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="No Mic on AMD"><!--[--><!--]--> No Mic on AMD <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#same-layout-id-from-clover-doesn-t-work-on-opencore" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Same layout ID from Clover doesn&#39;t work on OpenCore"><!--[--><!--]--> Same layout ID from Clover doesn&#39;t work on OpenCore <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#kernel-panic-on-power-state-changes-in-10-15" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Kernel Panic on power state changes in 10.15"><!--[--><!--]--> Kernel Panic on power state changes in 10.15 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#troubleshooting" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Troubleshooting"><!--[--><!--]--> Troubleshooting <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#checking-if-you-have-the-right-kexts" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Checking if you have the right kexts"><!--[--><!--]--> Checking if you have the right kexts <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#checking-if-applealc-is-patching-correctly" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Checking if AppleALC is patching correctly"><!--[--><!--]--> Checking if AppleALC is patching correctly <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#checking-applehda-is-vanilla" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Checking AppleHDA is vanilla"><!--[--><!--]--> Checking AppleHDA is vanilla <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#applealc-working-inconsistently" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="AppleALC working inconsistently"><!--[--><!--]--> AppleALC working inconsistently <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#applealc-not-working-correctly-with-multiple-sound-cards" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="AppleALC not working correctly with multiple sound cards"><!--[--><!--]--> AppleALC not working correctly with multiple sound cards <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#applealc-not-working-from-windows-reboot" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="AppleALC not working from Windows reboot"><!--[--><!--]--> AppleALC not working from Windows reboot <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/oc2hdd.html" class="nav-link sidebar-item" aria-label="Moving OpenCore from USB to macOS Drive"><!--[--><!--]--> Moving OpenCore from USB to macOS Drive <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/update.html" class="nav-link sidebar-item" aria-label="Updating OpenCore and macOS"><!--[--><!--]--> Updating OpenCore and macOS <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/drm.html" class="nav-link sidebar-item" aria-label="Fixing DRM support and iGPU performance"><!--[--><!--]--> Fixing DRM support and iGPU performance <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/iservices.html" class="nav-link sidebar-item" aria-label="Fixing iMessage and other services with OpenCore"><!--[--><!--]--> Fixing iMessage and other services with OpenCore <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/pm.html" class="nav-link sidebar-item" aria-label="Optimizing Power Management"><!--[--><!--]--> Optimizing Power Management <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/sleep.html" class="nav-link sidebar-item" aria-label="Fixing Sleep"><!--[--><!--]--> Fixing Sleep <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">USB Fixes</p><ul class=""><li><!--[--><a href="/OpenCore-Post-Install/usb/" class="nav-link sidebar-item" aria-label="Why should you USB map"><!--[--><!--]--> Why should you USB map <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/usb/system-preparation.html" class="nav-link sidebar-item" aria-label="System Preparation"><!--[--><!--]--> System Preparation <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><p class="sidebar-item">USB Mapping</p><ul class="sidebar-sub-items"><li><!--[--><a href="/OpenCore-Post-Install/usb/intel-mapping/intel.html" class="nav-link sidebar-item" aria-label="USB Mapping"><!--[--><!--]--> USB Mapping <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/usb/manual/manual.html" class="nav-link sidebar-item" aria-label="USB Mapping"><!--[--><!--]--> USB Mapping <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/usb/misc/" class="nav-link sidebar-item" aria-label="Miscellaneous Fixes"><!--[--><!--]--> Miscellaneous Fixes <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a href="/OpenCore-Post-Install/usb/misc/power.html" class="nav-link sidebar-item" aria-label="Fixing USB Power"><!--[--><!--]--> Fixing USB Power <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/usb/misc/shutdown.html" class="nav-link sidebar-item" aria-label="Fixing Shutdown/Restart"><!--[--><!--]--> Fixing Shutdown/Restart <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/usb/misc/instant-wake.html" class="nav-link sidebar-item" aria-label="GPRW/UPRW/LANC Instant Wake Patch"><!--[--><!--]--> GPRW/UPRW/LANC Instant Wake Patch <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/usb/misc/keyboard.html" class="nav-link sidebar-item" aria-label="Keyboard Wake Issues"><!--[--><!--]--> Keyboard Wake Issues <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Security</p><ul class=""><li><!--[--><a href="/OpenCore-Post-Install/universal/security.md" class="nav-link sidebar-item" aria-label="Security and FileVault"><!--[--><!--]--> Security and FileVault <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a href="/OpenCore-Post-Install/universal/security/filevault.html" class="nav-link sidebar-item" aria-label="FileVault"><!--[--><!--]--> FileVault <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/security/vault.html" class="nav-link sidebar-item" aria-label="Vault"><!--[--><!--]--> Vault <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/security/scanpolicy.html" class="nav-link sidebar-item" aria-label="ScanPolicy"><!--[--><!--]--> ScanPolicy <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/security/password.html" class="nav-link sidebar-item" aria-label="OpenCore Menu Password"><!--[--><!--]--> OpenCore Menu Password <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/security/applesecureboot.html" class="nav-link sidebar-item" aria-label="Apple Secure Boot"><!--[--><!--]--> Apple Secure Boot <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--><!--[--><a href="/OpenCore-Post-Install/laptop-specific/battery" class="nav-link sidebar-heading sidebar-item" aria-label="Laptop Specifics - Fixing Battery Read-outs"><!--[--><!--]--> Laptop Specifics - Fixing Battery Read-outs <!--[--><!--]--></a><!----><!--]--><!--[--><p class="sidebar-heading sidebar-item">Cosmetics</p><ul class=""><li><!--[--><a href="/OpenCore-Post-Install/cosmetic/verbose.html" class="nav-link sidebar-item" aria-label="Fixing Resolution and Verbose"><!--[--><!--]--> Fixing Resolution and Verbose <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/cosmetic/gui.html" class="nav-link sidebar-item" aria-label="OpenCore beauty treatment"><!--[--><!--]--> OpenCore beauty treatment <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/universal/memory.html" class="nav-link sidebar-item" aria-label="Fixing MacPro7,1 Memory Errors"><!--[--><!--]--> Fixing MacPro7,1 Memory Errors <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Multiboot</p><ul class=""><li><!--[--><a href="/OpenCore-Multiboot/" class="nav-link sidebar-item" aria-label="Multiboot con OpenCore"><!--[--><!--]--> Multiboot con OpenCore <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/multiboot/bootstrap.html" class="nav-link sidebar-item" aria-label="Using LauncherOption"><!--[--><!--]--> Using LauncherOption <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/multiboot/bootcamp.html" class="nav-link sidebar-item" aria-label="Installing and using BootCamp utilities"><!--[--><!--]--> Installing and using BootCamp utilities <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">Miscellaneous</p><ul class=""><li><!--[--><a href="/OpenCore-Post-Install/misc/rtc.html" class="nav-link sidebar-item" aria-label="Fixing RTC write issues"><!--[--><!--]--> Fixing RTC write issues <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/misc/msr-lock.html" class="nav-link sidebar-item" aria-label="Fixing CFG Lock"><!--[--><!--]--> Fixing CFG Lock <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/misc/nvram.html" class="nav-link sidebar-item" aria-label="Emulated NVRAM"><!--[--><!--]--> Emulated NVRAM <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><a href="/OpenCore-Post-Install/gpu-patching/" class="nav-link sidebar-heading sidebar-item" aria-label="In-depth GPU patching"><!--[--><!--]--> In-depth GPU patching <!--[--><!--]--></a><ul class=""><li><!--[--><p class="sidebar-item">Modern Intel iGPU</p><ul class="sidebar-sub-items"><li><!--[--><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/" class="nav-link sidebar-item" aria-label="Intel iGPU Patching"><!--[--><!--]--> Intel iGPU Patching <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/vram.html" class="nav-link sidebar-item" aria-label="Patching VRAM"><!--[--><!--]--> Patching VRAM <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/connector.html" class="nav-link sidebar-item" aria-label="Patching Connector Types"><!--[--><!--]--> Patching Connector Types <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/gpu-patching/intel-patching/busid.html" class="nav-link sidebar-item" aria-label="Patching Bus IDs"><!--[--><!--]--> Patching Bus IDs <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/gpu-patching/legacy-intel/" class="nav-link sidebar-item" aria-label="Legacy Intel iGPU"><!--[--><!--]--> Legacy Intel iGPU <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/OpenCore-Post-Install/gpu-patching/nvidia-patching/" class="nav-link sidebar-item"><!--[--><!--]-->  <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="fixing-audio-with-applealc" tabindex="-1"><a class="header-anchor" href="#fixing-audio-with-applealc" aria-hidden="true">#</a> Fixing audio with AppleALC</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#finding-your-layout-id" class="router-link-active router-link-exact-active"># Finding your layout ID</a></li><li><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#testing-your-layout" class="router-link-active router-link-exact-active"># Testing your layout</a></li><li><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#making-layout-id-more-permanent" class="router-link-active router-link-exact-active"># Making Layout ID more permanent</a></li><li><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#miscellaneous-issues" class="router-link-active router-link-exact-active"># Miscellaneous issues</a><ul><li><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#no-mic-on-amd" class="router-link-active router-link-exact-active"># No Mic on AMD</a></li><li><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#same-layout-id-from-clover-doesn-t-work-on-opencore" class="router-link-active router-link-exact-active"># Same layout ID from Clover doesn&#39;t work on OpenCore</a></li><li><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#kernel-panic-on-power-state-changes-in-10-15" class="router-link-active router-link-exact-active"># Kernel Panic on power state changes in 10.15</a></li></ul></li><li><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#troubleshooting" class="router-link-active router-link-exact-active"># Troubleshooting</a><ul><li><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#checking-if-you-have-the-right-kexts" class="router-link-active router-link-exact-active"># Checking if you have the right kexts</a></li><li><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#checking-if-applealc-is-patching-correctly" class="router-link-active router-link-exact-active"># Checking if AppleALC is patching correctly</a></li><li><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#checking-applehda-is-vanilla" class="router-link-active router-link-exact-active"># Checking AppleHDA is vanilla</a></li><li><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#applealc-working-inconsistently" class="router-link-active router-link-exact-active"># AppleALC working inconsistently</a></li><li><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#applealc-not-working-correctly-with-multiple-sound-cards" class="router-link-active router-link-exact-active"># AppleALC not working correctly with multiple sound cards</a></li><li><a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#applealc-not-working-from-windows-reboot" class="router-link-active router-link-exact-active"># AppleALC not working from Windows reboot</a></li></ul></li></ul></nav><p>So to start, we&#39;ll assume you already have Lilu and AppleALC installed, if you&#39;re unsure if it&#39;s been loaded correctly you can run the following in terminal(This will also check if AppleHDA is loaded, as without this AppleALC has nothing to patch):</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>kextstat <span class="token operator">|</span> <span class="token function">grep</span> -E <span class="token string">&quot;AppleHDA|AppleALC|Lilu&quot;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>If all 3 show up, you&#39;re good to go. And make sure VoodooHDA <strong>is not present</strong>. This will conflict with AppleALC otherwise.</p><p>If you&#39;re having issues, see the <a aria-current="page" href="/OpenCore-Post-Install/universal/audio.html#troubleshooting" class="router-link-active router-link-exact-active">Troubleshooting section</a></p><h2 id="finding-your-layout-id" tabindex="-1"><a class="header-anchor" href="#finding-your-layout-id" aria-hidden="true">#</a> Finding your layout ID</h2><p>So for this example, we&#39;ll assume your codec is ALC1220. To verify yours, you have a couple options:</p><ul><li>Checking motherboard&#39;s spec page and manual</li><li>Check Device Manager in Windows</li><li>Run <code>cat</code> in terminal on Linux <ul><li><code>cat /proc/asound/card0/codec#0 | less</code></li></ul></li></ul><p>Now with a codec, we&#39;ll want to cross reference it with AppleALC&#39;s supported codec list:</p><ul><li><a href="https://github.com/acidanthera/AppleALC/wiki/Supported-codecs" target="_blank" rel="noopener noreferrer">AppleALC Supported Codecs<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li></ul><p>With the ALC1220, we get the following:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>0x100003, layout 1, 2, 3, 5, 7, 11, 13, 15, 16, 21, 27, 28, 29, 34
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>So from this it tells us 2 things:</p><ul><li>Which hardware revision is supported(<code>0x100003</code>), only relevant when multiple revisions are listed with different layouts</li><li>Various layout IDs supported by our codec(<code>layout 1, 2, 3, 5, 7, 11, 13, 15, 16, 21, 27, 28, 29, 34</code>)</li></ul><p>Now with a list of supported layout IDs, we&#39;re ready to try some out</p><p><strong>Note</strong>: If your Audio Codec is ALC 3XXX this is likely false and just a rebranded controller, do your research and see what the actual controller is.</p><ul><li>An example of this is the ALC3601, but when we load up Linux the real name is shown: ALC 671</li></ul><h2 id="testing-your-layout" tabindex="-1"><a class="header-anchor" href="#testing-your-layout" aria-hidden="true">#</a> Testing your layout</h2><p>To test out our layout IDs, we&#39;re going to be using the boot-arg <code>alcid=xxx</code> where xxx is your layout. Remember that to try layout IDs <strong>one at a time</strong>. Do not add multiple IDs or alcid Argomenti di avvio, if one doesn&#39;t work then try the next ID and etc</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>config.plist
├── NVRAM
  ├── Add
    ├── 7C436110-AB2A-4BBB-A880-FE41995C9F82
          ├── Argomenti di avvio | String | alcid=11
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="making-layout-id-more-permanent" tabindex="-1"><a class="header-anchor" href="#making-layout-id-more-permanent" aria-hidden="true">#</a> Making Layout ID more permanent</h2><p>Once you&#39;ve found a Layout ID that works with your hack, we can create a more permanent solution for closer to how real macs set their Layout ID.</p><p>With AppleALC, there&#39;s a priority hierarchy with which properties are prioritized:</p><ol><li><code>alcid=xxx</code> boot-arg, useful for debugging and overrides all other values</li><li><code>alc-layout-id</code> in DeviceProperties, <strong>should only be used on Apple hardware</strong></li><li><code>layout-id</code> in DeviceProperties, <strong>should be used on both Apple and non-Apple hardware</strong></li></ol><p>To start, we&#39;ll need to find out where our Audio controller is located on the PCI map. For this, we&#39;ll be using a handy tool called <a href="https://github.com/acidanthera/gfxutil/releases" target="_blank" rel="noopener noreferrer">gfxutil<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> then with the macOS terminal:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>path/to/gfxutil -f HDEF
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><img src="/assets/gfxutil-hdef.be172597.png" alt=""></p><p>Then add this PciRoot with the child <code>layout-id</code> to your config.plist under DeviceProperties -&gt; Add:</p><p><img src="/assets/config-layout-id.a342ac65.png" alt=""></p><p>Note that AppleALC can accept both Decimal/Number and Hexadecimal/Data, generally the best method is Hex as you avoid any unnecessary conversions. You can use a simple <a href="https://www.rapidtables.com/convert/number/decimal-to-hex.html" target="_blank" rel="noopener noreferrer">decimal to hexadecimal calculator<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> to find yours. <code>printf &#39;%x\n&#39; DECI_VAL</code>:</p><p><img src="/assets/hex-convert.305c2f19.png" alt=""></p><p>So in this example, <code>alcid=11</code> would become either:</p><ul><li><code>layout-id | Data | &lt;0B000000&gt;</code></li><li><code>layout-id | Number | &lt;11&gt;</code></li></ul><p>Note that the final HEX/Data value should be 4 bytes in total(ie. <code>0B 00 00 00</code> ), for layout IDs surpassing 255(<code>FF 00 00 00</code>) will need to remember that the bytes are swapped. So 256 will become <code>FF 01 00 00</code></p><ul><li>HEX Swapping and data size can be completely ignored using the Decimal/Number method</li></ul><p><strong>Reminder</strong>: You <strong>MUST</strong> remove the boot-arg afterwards, as it will always have the top priority and so AppleALC will ignore all other entries like in DeviceProperties</p><h2 id="miscellaneous-issues" tabindex="-1"><a class="header-anchor" href="#miscellaneous-issues" aria-hidden="true">#</a> Miscellaneous issues</h2><h3 id="no-mic-on-amd" tabindex="-1"><a class="header-anchor" href="#no-mic-on-amd" aria-hidden="true">#</a> No Mic on AMD</h3><ul><li>This is a common issue with when running AppleALC with AMD, specifically no patches have been made to support Mic input. At the moment the &quot;best&quot; solution is to either buy a USB DAC/Mic or go the VoodooHDA.kext method. Problem with VoodooHDA is that it&#39;s been known to be unstable and have worse audio quality than AppleALC</li></ul><h3 id="same-layout-id-from-clover-doesn-t-work-on-opencore" tabindex="-1"><a class="header-anchor" href="#same-layout-id-from-clover-doesn-t-work-on-opencore" aria-hidden="true">#</a> Same layout ID from Clover doesn&#39;t work on OpenCore</h3><p>This is likely do to IRQ conflicts, on Clover there&#39;s a whole sweep of ACPI hot-patches that are applied automagically. Fixing this is a little bit painful but <a href="https://github.com/corpnewt/SSDTTime" target="_blank" rel="noopener noreferrer">SSDTTime<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>&#39;s <code>FixHPET</code> option can handle most cases.</p><p>For odd cases where RTC and HPET take IRQs from other devices like USB and audio, you can reference the <a href="https://github.com/khronokernel/trashOS/blob/master/HP-Compaq-DC7900/README.md#dsdt-edits" target="_blank" rel="noopener noreferrer">HP Compaq DC7900 ACPI patch<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> example in the trashOS repo</p><h3 id="kernel-panic-on-power-state-changes-in-10-15" tabindex="-1"><a class="header-anchor" href="#kernel-panic-on-power-state-changes-in-10-15" aria-hidden="true">#</a> Kernel Panic on power state changes in 10.15</h3><ul><li>Enable PowerTimeoutKernelPanic in your config.plist: <ul><li><code>Kernel -&gt; Quirks -&gt; PowerTimeoutKernelPanic -&gt; True</code></li></ul></li></ul><h2 id="troubleshooting" tabindex="-1"><a class="header-anchor" href="#troubleshooting" aria-hidden="true">#</a> Troubleshooting</h2><h3 id="checking-if-you-have-the-right-kexts" tabindex="-1"><a class="header-anchor" href="#checking-if-you-have-the-right-kexts" aria-hidden="true">#</a> Checking if you have the right kexts</h3><p>To start, we&#39;ll assume you already have Lilu and AppleALC installed, if you&#39;re unsure if it&#39;s been loaded correctly you can run the following in terminal(This will also check if AppleHDA is loaded, as without this AppleALC has nothing to patch):</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>kextstat <span class="token operator">|</span> <span class="token function">grep</span> -E <span class="token string">&quot;AppleHDA|AppleALC|Lilu&quot;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>If all 3 show up, you&#39;re good to go. And make sure VoodooHDA <strong>is not present</strong>. This will conflict with AppleALC otherwise. Other kexts to make sure you do not have in your system:</p><ul><li>RealtekALC.kext</li><li>CloverALC.kext</li><li>VoodooHDA.kext</li><li>HDA Blocker.kext</li><li>HDAEnabler#.kext(# can be 1, 2, or 3)</li></ul><blockquote><p>Hey Lilu and/or AppleALC aren&#39;t showing up</p></blockquote><p>Generally the best place to start is by looking through your OpenCore logs and seeing if Lilu and AppleALC injected correctly:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>14:354 00:020 OC: Prelink injection Lilu.kext () - Success
14:367 00:012 OC: Prelink injection AppleALC.kext () - Success
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>If it says failed to inject:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>15:448 00:007 OC: Prelink injection AppleALC.kext () - Invalid Parameter
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Main places you can check as to why:</p><ul><li><strong>Injection order</strong>: Make sure that Lilu is above AppleALC in kext order</li><li><strong>All kexts are latest release</strong>: Especially important for Lilu plugins, as mismatched kexts can cause issues</li></ul><p>Note: To setup file logging, see <a href="https://dortania.github.io/OpenCore-Install-Guide/troubleshooting/debug.html" target="_blank" rel="noopener noreferrer">OpenCore Debugging<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>.</p><h3 id="checking-if-applealc-is-patching-correctly" tabindex="-1"><a class="header-anchor" href="#checking-if-applealc-is-patching-correctly" aria-hidden="true">#</a> Checking if AppleALC is patching correctly</h3><p>So with AppleALC, one of the most easiest things to check if the patching was done right was to see if your audio controller was renamed correctly. Grab <a href="https://github.com/khronokernel/IORegistryClone/blob/master/ioreg-302.zip" target="_blank" rel="noopener noreferrer">IORegistryExplorer<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> and see if you have an HDEF device:</p><p><img src="/assets/hdef.eb4eeeeb.png" alt=""></p><p>As you can see from the above image, we have the following:</p><ul><li>HDEF Device meaning our rename did the job</li><li>AppleHDAController attached meaning Apple&#39;s audio kext attached successfully</li><li><code>alc-layout-id</code> is a property showing our boot-arg/DeviceProperty injection was successful <ul><li>Note: <code>layout-id | Data | 07000000</code> is the default layout, and <code>alc-layout-id</code> will override it and be the layout AppleHDA will use</li></ul></li></ul><p>Note: <strong>Do not rename your audio controller manually</strong>, this can cause issues as AppleALC is trying to patch already. Let AppleALC do it&#39;s work.</p><p><strong>More examples</strong>:</p><table><thead><tr><th style="text-align:center;">Correct layout-id</th><th style="text-align:center;">Incorrect layout-id</th></tr></thead><tbody><tr><td style="text-align:center;"><img src="/assets/right-layout.6ebba185.png" alt=""></td><td style="text-align:center;"><img src="/assets/wrong-layout.5e482e47.png" alt=""></td></tr></tbody></table><p>As you can see from the above 2, the right image is missing a lot of AppleHDAInput devices, meaning that AppleALC can&#39;t match up your physical ports to something it can understand and output to. This means you&#39;ve got some work to find the right layout ID for your system.</p><h3 id="checking-applehda-is-vanilla" tabindex="-1"><a class="header-anchor" href="#checking-applehda-is-vanilla" aria-hidden="true">#</a> Checking AppleHDA is vanilla</h3><p>This section is mainly relevant for those who were replacing the stock AppleHDA with a custom one, this is going to verify whether or not yours is genuine:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> kextcache -i / <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> kextcache -u /
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>This will check if the signature is valid for AppleHDA, if it&#39;s not then you&#39;re going to need to either get an original copy of AppleHDA for your system and replace it or update macOS(kexts will be cleaned out on updates). This will only happen when you&#39;re manually patched AppleHDA so if this is a fresh install it&#39;s highly unlikely you will have signature issues.</p><h3 id="applealc-working-inconsistently" tabindex="-1"><a class="header-anchor" href="#applealc-working-inconsistently" aria-hidden="true">#</a> AppleALC working inconsistently</h3><p>Sometimes race conditions can occur where your hardware isn&#39;t initialized in time for AppleHDAController resulting in no sound output. To get around this, you can either:</p><p>Specify in Argomenti di avvio the delay:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>alcdelay=1000
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Or Specify via DeviceProperties(in your HDEF device):</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>alc-delay | Number | 1000
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>The above boot-arg/property will delay AppleHDAController by 1000 ms(1 second), note the ALC delay cannot exceed <a href="https://github.com/acidanthera/AppleALC/blob/master/AppleALC/kern_alc.cpp#L308L311" target="_blank" rel="noopener noreferrer">3000 ms<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><h3 id="applealc-not-working-correctly-with-multiple-sound-cards" tabindex="-1"><a class="header-anchor" href="#applealc-not-working-correctly-with-multiple-sound-cards" aria-hidden="true">#</a> AppleALC not working correctly with multiple sound cards</h3><p>For rare situations where you have 2 sounds cards(ex. onboard Realtek and an external PCIe card), you may want to avoid AppleALC patching devices you either don&#39;t use or don&#39;t need patching(like native PCIe cards). This is especially important if you find that AppleALC will not patch you onboard audio controller when the external one is present.</p><p>To get around this, we&#39;ll first need to identify the location of both our audio controllers. The easiest way is to run <a href="https://github.com/acidanthera/gfxutil/releases" target="_blank" rel="noopener noreferrer">gfxutil<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> and search for the PCI IDs:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>/path/to/gfxutil
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Now with this large output you&#39;ll want to find your PciRoot pathing, for this example, lets use a Creative Sound-Blaster AE-9PE PCIe audio card. For this, we know the PCI ID is <code>1102:0010</code>. So looking through our gfxutil output we get this:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>66:00.0 1102:0010 /PC02@0/BR2A@0/SL05@0 = PciRoot(0x32)/Pci(0x0,0x0)/Pci(0x0,0x0)
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>From here, we can clearly see our PciRoot pathing is:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>PciRoot(0x32)/Pci(0x0,0x0)/Pci(0x0,0x0)
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li><strong>Note</strong>: This will assume you know both the Vendor and Device ID of the external sound card. For reference, these are the common Vendor IDs: <ul><li>Creative Labs: <code>1102</code></li><li>AsusTek: <code>1043</code></li></ul></li><li><strong>Note 2</strong>: Your ACPI and PciRoot path will look different, so pay attention to <strong>your</strong> gfxutil output</li></ul><p>Now that we have our PciRoot pathing, we can finally open up our config.plist and add our patch.</p><p>Under DeviceProperties -&gt; Add, you&#39;ll want to add your PciRoot(as a Dictionary) with the child called <code>external-audio</code>:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>DeviceProperties
| --- &gt; Add
 | --- &gt; PciRoot(0x32)/Pci(0x0,0x0)/Pci(0x0,0x0)
  | ----&gt; external-audio | Data | 01
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="/assets/external-audio.aeb5d07c.png" alt=""></p><p>And with this done, you can reboot and AppleALC should now ignore your external audio controller!</p><h3 id="applealc-not-working-from-windows-reboot" tabindex="-1"><a class="header-anchor" href="#applealc-not-working-from-windows-reboot" aria-hidden="true">#</a> AppleALC not working from Windows reboot</h3><p>If you find that rebooting from Windows into macOS breaks audio, we recommend either adding <code>alctsel=1</code> to Argomenti di avvio or add this property to your audio device in DeviceProperties:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>DeviceProperties
| --- &gt; Add
 | --- &gt; PciRoot(0x32)/Pci(0x0,0x0)/Pci(0x0,0x0)(Adjust to your device)
  | ----&gt; alctsel | Data | 01000000
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/macos86/macos86.github.io/edit/main/OpenCore-Post-Install/universal/audio.md" rel="noopener noreferrer" target="_blank" aria-label="Aiutaci a tradurre questa pagina!"><!--[--><!--]--> Aiutaci a tradurre questa pagina! <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!----><!----></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/OpenCore-Post-Install/universal/oc2hdd.html" class="nav-link" aria-label="Moving OpenCore from USB to macOS Drive"><!--[--><!--]--> Moving OpenCore from USB to macOS Drive <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main></div><!----><!--]--></div>
    <script type="module" src="/assets/app.9c75e1c0.js" defer></script>
  </body>
</html>
